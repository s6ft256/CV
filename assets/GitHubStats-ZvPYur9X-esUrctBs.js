import{a as v,e}from"./index-DVhjjR6f.js";import{i as k,d as N}from"./Card-CTtNbkUA-Bcf4VIsO.js";const R=s=>{const l=["bg-gray-100 dark:bg-gray-800","bg-green-200 dark:bg-green-900","bg-green-400 dark:bg-green-700","bg-green-500 dark:bg-green-600","bg-green-600 dark:bg-green-500"];return l[s]||l[0]};function M({contributions:s}){return e.jsxs("div",{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"inline-flex flex-col gap-0.5 min-w-max",children:[e.jsxs("div",{className:"flex items-center gap-0.5 mb-1",children:[e.jsx("div",{className:"w-8"}),["Mon","","Wed","","Fri","",""].map((l,r)=>e.jsx("div",{className:"w-3 h-3 text-[8px] text-muted flex items-center justify-center",children:l},r))]}),[0,1,2,3,4,5,6].map(l=>e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx("div",{className:"w-8"}),Array.from({length:20}).map((r,h)=>{const n=s[h*7+l];return e.jsx("div",{className:`w-3 h-3 rounded-sm ${R((n==null?void 0:n.level)||0)} transition-colors cursor-pointer hover:ring-1 hover:ring-primary`,title:n?`${n.date}: ${n.count} contributions`:""},h)})]},l))]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 text-xs text-muted",children:[e.jsx("span",{children:"Less"}),[0,1,2,3,4].map(l=>e.jsx("div",{className:`w-3 h-3 rounded-sm ${R(l)}`},l)),e.jsx("span",{children:"More"})]})]})}function B({languages:s,totalRepos:l}){return e.jsx("div",{className:"space-y-3",children:s.map(r=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-text font-medium",children:r.name}),e.jsxs("span",{className:"text-muted",children:[r.count," repos"]})]}),e.jsx("div",{className:"h-2 bg-surface-hover rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${r.count/l*100}%`,backgroundColor:r.color}})})]},r.name))})}const E=s=>{switch(s){case"Push":return e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})});case"Create":return e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})});case"PullRequest":return e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})});default:return e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}};function D({activities:s}){return s.length===0?e.jsx("p",{className:"text-muted text-sm",children:"No recent activity"}):e.jsx("div",{className:"space-y-3",children:s.map((l,r)=>e.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[e.jsx("div",{className:"text-primary mt-0.5",children:E(l.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-text truncate",children:l.repo}),e.jsx("span",{className:"text-muted text-xs whitespace-nowrap",children:l.date})]}),l.message&&e.jsx("p",{className:"text-muted text-xs truncate",children:l.message})]})]},r))})}function G({publicRepos:s,totalStars:l,totalForks:r,followers:h,following:n}){const y=[{value:s,label:"Repositories",color:"text-primary"},{value:l,label:"Total Stars",color:"text-yellow-500"},{value:r,label:"Total Forks",color:"text-blue-500"},{value:h,label:"Followers",color:"text-green-500"},{value:n,label:"Following",color:"text-purple-500"}];return e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:y.map(u=>e.jsx(N,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl md:text-3xl font-bold ${u.color}`,children:u.value}),e.jsx("div",{className:"text-xs md:text-sm text-muted mt-1",children:u.label})]})},u.label))})}const _={TypeScript:"#3178c6",JavaScript:"#f1e05a",Python:"#3572A5",HTML:"#e34c26",CSS:"#563d7c",Java:"#b07219","C++":"#f34b7d",Go:"#00ADD8",Rust:"#dea584",Ruby:"#701516",PHP:"#4F5D95",Swift:"#ffac45",Kotlin:"#A97BFF",Dart:"#00B4AB",Shell:"#89e051"};function T(){const[s,l]=v.useState(null),[r,h]=v.useState([]),[n,y]=v.useState(!0),[u,A]=v.useState(null),f="s6ft256";v.useEffect(()=>{F()},[]);const F=async()=>{try{const[p,j,b]=await Promise.all([fetch(`https://api.github.com/users/${f}`),fetch(`https://api.github.com/users/${f}/repos?per_page=100`),fetch(`https://api.github.com/users/${f}/events/public?per_page=30`)]);if(!p.ok||!j.ok)throw new Error("Failed to fetch GitHub data");const g=await p.json(),x=await j.json(),d=b.ok?await b.json():[],c=x.reduce((t,o)=>t+o.stargazers_count,0),a=x.reduce((t,o)=>t+o.forks_count,0),i={};x.forEach(t=>{t.language&&(i[t.language]=(i[t.language]||0)+1)});const w=Object.entries(i).sort((t,o)=>o[1]-t[1]).slice(0,5).map(([t,o])=>({name:t,count:o,color:_[t]||"#6e7681"})),m=d.filter(t=>["PushEvent","CreateEvent","PullRequestEvent","IssuesEvent"].includes(t.type)).slice(0,5).map(t=>{var o,L,C,S;return{type:t.type.replace("Event",""),repo:t.repo.name.split("/")[1],date:new Date(t.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}),message:((S=(C=(L=(o=t.payload)==null?void 0:o.commits)==null?void 0:L[0])==null?void 0:C.message)==null?void 0:S.slice(0,50))||void 0}});l({publicRepos:g.public_repos,followers:g.followers,following:g.following,totalStars:c,totalForks:a,topLanguages:w,recentActivity:m}),H(d,x)}catch(p){console.error("Error fetching GitHub data:",p),A("Unable to load GitHub statistics")}finally{y(!1)}},H=(p,j)=>{const b=new Date,g=20,x=[],d={};p.forEach(c=>{const a=c.created_at.split("T")[0];d[a]=(d[a]||0)+1}),j.forEach(c=>{var a;const i=(a=c.pushed_at)==null?void 0:a.split("T")[0];i&&(d[i]=(d[i]||0)+1)});for(let c=g-1;c>=0;c--)for(let a=0;a<7;a++){const i=new Date(b);i.setDate(i.getDate()-(c*7+(6-a)));const w=i.toISOString().split("T")[0],m=d[w]||0;let t=0;m>0&&(t=1),m>=3&&(t=2),m>=6&&(t=3),m>=10&&(t=4),x.push({date:w,count:m,level:t})}h(x)};return n?e.jsx(k,{id:"github-stats",title:"GitHub Activity",subtitle:"Contribution matrix and activity overview",children:e.jsxs("div",{className:"text-center text-muted",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-primary border-r-transparent"}),e.jsx("p",{className:"mt-2",children:"Loading GitHub statistics..."})]})}):u||!s?e.jsx(k,{id:"github-stats",title:"GitHub Activity",subtitle:"Contribution matrix and activity overview",children:e.jsx("div",{className:"text-center text-muted",children:u||"Unable to load data"})}):e.jsx(k,{id:"github-stats",title:"GitHub Activity",subtitle:"Contribution matrix and activity overview",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(G,{publicRepos:s.publicRepos,totalStars:s.totalStars,totalForks:s.totalForks,followers:s.followers,following:s.following}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(N,{children:[e.jsxs("h3",{className:"text-lg font-semibold text-text mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Contribution Activity"]}),e.jsx(M,{contributions:r})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(N,{children:[e.jsxs("h3",{className:"text-lg font-semibold text-text mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),"Top Languages"]}),e.jsx(B,{languages:s.topLanguages,totalRepos:s.publicRepos})]}),e.jsxs(N,{children:[e.jsxs("h3",{className:"text-lg font-semibold text-text mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Recent Activity"]}),e.jsx(D,{activities:s.recentActivity})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("a",{href:`https://github.com/${f}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-900 dark:bg-gray-100 text-white dark:text-gray-900 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors font-medium",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})}),"View Full GitHub Profile"]})})]})})}export{T as default};
